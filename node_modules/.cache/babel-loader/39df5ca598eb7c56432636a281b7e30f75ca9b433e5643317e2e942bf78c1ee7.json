{"ast":null,"code":"import _objectSpread from\"C:/Users/Doddie_IT/Documents/Doddie/ats-kit-react/MrRobotdude.github.io/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from\"react\";import Carousel from\"react-multi-carousel\";import{Link}from\"react-router-dom\";import\"react-multi-carousel/lib/styles.css\";import{Card,CardImg,CardHeader,CardTitle,CardImgOverlay}from\"reactstrap\";import{products}from\"constants/products\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const responsive={desktop:{breakpoint:{max:3000,min:1200},items:3,partialVisibilityGutter:40},tablet:{breakpoint:{max:1200,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}};const ForwardedCardImg=/*#__PURE__*/React.forwardRef((props,ref)=>/*#__PURE__*/_jsx(CardImg,_objectSpread(_objectSpread({},props),{},{innerref:ref})));const ForwardedCardTitle=/*#__PURE__*/React.forwardRef((props,ref)=>/*#__PURE__*/_jsx(CardTitle,_objectSpread(_objectSpread({},props),{},{innerref:ref})));function ProductCarousel(){const[deviceType,setDeviceType]=useState(null);const[hoveredCardIndex,setHoveredCardIndex]=useState(null);const[maxTitleHeight,setMaxTitleHeight]=useState(0);const[cardHeight,setCardHeight]=useState(0);const cardTitleRef=useRef(null);const cardRef=useRef(null);const handleCardMouseEnter=index=>{setHoveredCardIndex(index);};const handleCardMouseLeave=()=>{setHoveredCardIndex(null);};useEffect(()=>{function handleResize(){const width=window.innerWidth;if(width>=1200){setDeviceType(\"desktop\");}else if(width>=464){setDeviceType(\"tablet\");}else{setDeviceType(\"mobile\");}}handleResize();// Call the function initially\n// Add event listener to handle window resize\nwindow.addEventListener(\"resize\",handleResize);// Remove event listener on component unmount\nreturn()=>window.removeEventListener(\"resize\",handleResize);},[]);// Empty dependency array to only run once on mount\nuseEffect(()=>{if(cardTitleRef.current){setMaxTitleHeight(cardTitleRef.current.clientHeight);}},[hoveredCardIndex]);useEffect(()=>{if(cardTitleRef.current){setMaxTitleHeight(cardTitleRef.current.clientHeight);}},[]);// Calculate max title height when component mounts\nuseEffect(()=>{if(cardRef.current){setCardHeight(cardRef.current.clientHeight);}},[hoveredCardIndex]);useEffect(()=>{if(cardRef.current){setCardHeight(cardRef.current.clientHeight);}},[]);// Calculate max title height when component mounts\nreturn/*#__PURE__*/_jsx(Carousel,{swipeable:true,draggable:true,showDots:true,responsive:responsive,ssr:true,infinite:true,autoPlay:true,keyBoardControl:true,transitionDuration:500,containerClass:\"carousel-container\",removeArrowOnDeviceType:[\"tablet\",\"mobile\"],deviceType:deviceType,dotListClass:\"custom-dot-list-style\",itemClass:\"carousel-item-padding-40-px \".concat(deviceType===\"desktop\"?\"mx-2\":\"\"),centerMode:false,partialVisible:true,children:products.map((product,index)=>{const isHovered=hoveredCardIndex===index;return/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(product.productId),children:/*#__PURE__*/_jsx(Card,{onMouseEnter:()=>handleCardMouseEnter(index),onMouseLeave:handleCardMouseLeave,style:{overflow:\"hidden\"},children:/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(ForwardedCardImg,{src:require(\"assets/img/ATS/\".concat(product.imageUrl[0].url)),alt:product.productName,className:\"preview-img\",ref:cardRef,style:{objectFit:\"contain\"}}),/*#__PURE__*/_jsxs(CardImgOverlay,{className:\"text-white overlay-product clear-filter \"+(hoveredCardIndex===index?\"slide-top\":\"\"),style:{backgroundColor:\"rgba(0, 0, 0, 0.7)\",maxHeight:isHovered?cardHeight+\"px\":maxTitleHeight+60+\"px\",top:isHovered?\"0\":\"auto\"},\"filter-color\":\"blue\",children:[/*#__PURE__*/_jsx(ForwardedCardTitle,{className:\"product-title \".concat(isHovered?\"normal-title\":\"truncated-title\"),ref:cardTitleRef,children:product.productName}),isHovered&&/*#__PURE__*/_jsxs(\"div\",{children:[product.generalSpecification&&product.generalSpecification.map((spec,i)=>/*#__PURE__*/_jsxs(\"div\",{children:[spec.feature,\": \",spec.value]},i)),/*#__PURE__*/_jsx(\"br\",{})]})]})]})})},index);})});}export default ProductCarousel;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}